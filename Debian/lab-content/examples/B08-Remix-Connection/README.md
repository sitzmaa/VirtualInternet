## Table of Content

- [How to connect Remix to Seed Emulator](#emulator)

--------------------
<a name="emulator"></a>
# How to connect Remix to Seed Emulator

## A.1 Background

Remix (`https://remix.ethereum.org/`) is an online IDE used to write, deploy, and interact with smart contracts.
Remix can connect to a Web3 provider, and deploy smart contracts via such a provider.
As long as we create a Web3 provider in our Emulator, we can connect Remix 
with our Emulator, and use Remix to deploy smart contracts inside our Emulator. 


## A.2 How it works

One of the Ethereum nodes in the Emulator runs an HTTP server. This is a Web3 provider, and it can accept connections from Remix. We have created several
accounts on this node.


## A.3 Build dependencies

This Emulator is built on top of the base layer created in `B00-mini-internet`, 
so we need to go to that example folder, run the emulation code to generate 
the emulation file (a `.bin` file). Keep the file there.


## A.4 Build and run network

We come back to the `B08-Remix-Connection` folder. There are two Python programs in
this folder:  `component-blockchain.py` and `blockchain.py`. The first one 
generates the blockchain components (a `.bin` file), and it should be executed first.  
The second file combine the base-layer component from `B00-mini-internet` and the blockchain
component together to form the final blockchain Emulator. After running the second
program, we will see the `output` folder, which contains all the emulation files. 

Go to the `output` folder, run `dcbuild` to build the Emulation, and then run `dcup` to start the emulation. Both commands are the aliases defined inside the SEED VM, representing `"docker-compose build"` and `"docker-compose up"`. 



## A.5 Before connecting to Remix

Make sure the Ethereum-6 node is up and running as it is the one listening for connections.
We can verify that by looking at the logs generated by the dcup command.


## A.6 Remix sections

Start `Firefox` inside the VM, and go to `https://remix.ethereum.org/`. The Remix IDE will 
be loaded. Remix has 5 main sections in its sidebar:
- File explorer
- Solidity compiler
- Deploy and run transactions
- Debugger
- Plugin manager

We  are interested in the first 3 sections.
In the File explorer section, you can create your smart contracts inside the contracts folder.
In the Solidity compiler section, you can select the compiler version of your choice depending on the version you are using in your code.
In the Deploy and run transactions section, you can connect to the network of your choice, deploy smart contracts, and interact with them.

## A.7 Connect Remix to our network

Navigate to the "Deploy and run transactions" section.
Find the "environment" dropdown.
Select "Web3 Provider", a popup will show up.
Click on OK to connect to the default url. Remix is now conected to our Emulator

All the accounts created on the node are immediately showing up on Remix's 
"Accounts" list. Initially, the balance of these accounts are zero. The Ethereum needs
about 30 minutes to bootstrap. Once it is ready, we should be able to see that the balance
of the first account becomes non-zero. The first account is the one used in mining, so
its balance will increase. The other accounts are not used, so they will always have
zero in the balance, unless we send some ethers to those accounts. 
